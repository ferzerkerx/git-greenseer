{% extends "layout.html" %}

{% block content %}
    {% for name,contributor_stat in contributor_stats_by_category.iteritems() %}
    <div id="{{name}}" class="contributor-stat">
        <h3>{{name}}</h3>
        <table class="{{name}}-contributor-stat-details">
            {% for category,contribution_percentage in contributor_stat.contribution_by_category.iteritems() %}
            <tr>
                <td>{{category}}</td>
                <td>{{contribution_percentage}}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
    {% endfor %}
{% endblock %}

{% block footer %}
<script type="text/javascript">

    $(function () {
        var bars = $('.barCanvas')
                , i = 0
                , targetCanvas = undefined
                , targetCanvasId = ''
                , canvasStrLength = 'Canvas'.length
                , targetTable = '';

        for (i = 0; i < bars.length; i++) {
            targetCanvas = bars[i];
            targetCanvasId = targetCanvas.id;
            targetTable = targetCanvasId.substring(0, targetCanvasId.length - canvasStrLength);
            drawContributorsGraph(targetTable, targetCanvas, 10);
        }

    });
</script>
{% endblock %}
